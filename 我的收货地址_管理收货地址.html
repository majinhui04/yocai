<!DOCTYPE html>
<html>
    <head lang="zh-CN"> 
    <meta charset="UTF-8" /> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum- scale=1.0, user-scalable=no" /> 
    <!-- 这行代码可以指定网页使用 webkit 引擎渲染，当然，只对 360 浏览器 6.5+ 有效 -->
    <meta name="renderer" content="webkit">
    <meta name="format-detection" content="telephone=no" /> 
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <title>管理收获地址</title> 
    <link rel="shortcut icon" href="./assets/images/icon.jpg" /> 
    <link rel="icon" href="./assets/images/icon.jpg" />
    <link rel="stylesheet" href="./assets/css/app.public.css">
    <link rel="stylesheet" href="./assets/vendor/qaq/css/qaq.css">
    <link rel="stylesheet" href="./assets/css/app.css" />
    <link rel="stylesheet" href="./assets/css/app.gldz.css" />  
    <script src="./assets/vendor/jquery/1.11.1/jquery.min.js"></script>
    <script src="./assets/vendor/qaq/js/qaq.js"></script>
    <script src="./assets/js/jquery.validate.min.js"></script>
    <script src="./assets/js/app.geo.js"></script>
    <script src="./assets/js/app.config.js"></script>
    <script src="./assets/js/app.global.js"></script>
 </head> 
 <body class="yc my-garden-container"> 
    <!-- 顶部导航 -->
    <div class="yc-topnav" > 
        <div class="yc-wrapper ">
            <div class="yc-topnav-l">
                <span>欢迎您,<a class="yc-link yc-link-user" href="javascript:;">马饭</a></span>
                <a class="yc-link yc-inline-b yc-link-usertips" href="javascript:;">
                    消息
                    <i class="icon-spot"></i>
                </a>
                <a class="yc-link yc-link-logout" href="javascript:;">退出</a>
            </div>
            <div class="yc-topnav-r">
                <a class="yc-link yc-link-basket" href="javascript:;">菜篓(1)</a>
                <a class="yc-link yc-link-home" href="javascript:;">我的庄园</a>
                <a class="yc-link" href="javascript:;">手机版</a>
                <a class="yc-link" href="javascript:;">哟菜市场</a>
                <a class="yc-link" href="javascript:;">线下门店</a>
            </div>
        </div>
    </div> 
    <!-- 顶部菜单 -->
    <div class="yc-header">
        <div class="yc-wrapper">
            <div class="yc-logo">
                <img src="./assets/images/logo.jpg" alt="" class="yc-logo-img">
            </div>
            <div class="yc-mainnav">
                <a href="javascript:;" class="yc-mainnav-item cur" data-role="首页"><span>首页</span></a>
                <a href="javascript:;" class="yc-mainnav-item" data-role="菜园"><span>菜园</span></a>
                <a href="javascript:;" class="yc-mainnav-item" data-role="服务"><span>服务</span></a>
                <a href="javascript:;" class="yc-mainnav-item" data-role="集市"><span>集市</span></a>
            </div>
        </div>
            
    </div>
    
    <!-- 主体 -->
    <div class="yc-main yc-wrapper clearfix">
        <!-- 左侧导航 -->
        <div class="yc-leftsidebar">
            <div class="yc-module yc-leftsidebar-userinfo">
                <div class="yc-inline-b yc-userinfo-portrait">
                    <img src="./assets/data/avatar/1.jpeg" alt="">
                </div>
                <div class="yc-inline-b yc-userinfo-name">
                    <p class="">马饭</p>
                    <p class="">lv:88级</p>
                </div>
                <div class="yc-userinfo-money">
                    <span>哟币: </span><span>88888</span> 
                    <a href="javascript:;" class="yc-btn yc-btn-deposit">充值</a>
                </div>

            </div>

            <div class="yc-module yc-leftsidebar-menu" id="menu">
                <dl class="yc-menu-list" >
                    <dt class="yc-menu-headline" data-toggle="collapse">
                        <i class="icon-menu"></i>
                        <span class="yc-menu-title">我的菜地</span>
                        <i class="icon-arrow"></i>
                    </dt>
                    <div class="yc-submenu collapse"  data-role="content">
                        <div class="panel-body">
                            <dd class="yc-menu-item">
                                <a href="javascript:;" class="yc-link-menu">菜地</a>
                            </dd>
                        </div>
                    </div>
                    
                </dl>
                <dl class="yc-menu-list">
                    <dt class="yc-menu-headline" data-toggle="collapse">
                        <i class="icon-menu"></i>
                        <span class="yc-menu-title">我的服务</span>
                        <i class="icon-arrow"></i>
                        
                    </dt>
                    <div class="yc-submenu collapse"  data-role="content">
                        <div class="panel-body">
                            <dd class="yc-menu-item">
                                <a href="javascript:;" class="yc-link-menu">拥有的服务</a>
                            </dd>
                            <dd>
                                <a href="javascript:;" class="yc-link-menu">使用记录</a>
                            </dd>
                        </div>
                    </div>
                            
                </dl>
                <dl class="yc-menu-list">
                    <dt class="yc-menu-headline" data-toggle="collapse">
                        <i class="icon-menu"></i>
                        <span class="yc-menu-title">我的仓库</span>
                        <i class="icon-arrow"></i>
                    </dt>
                    <div class="yc-submenu collapse"  data-role="content">
                        <div class="panel-body">
                            <dd class="yc-menu-item">
                                <a href="javascript:;" class="yc-link-menu">仓库</a>
                            </dd>
                        </div>
                    </div>
                    
                </dl>
                <dl class="yc-menu-list">
                    <dt class="yc-menu-headline" data-toggle="collapse">
                        <i class="icon-menu"></i>
                        <span class="yc-menu-title">我的换菜</span>
                        <i class="icon-arrow"></i>
                    </dt>
                    <div class="yc-submenu collapse"  data-role="content">
                        <div class="panel-body">
                            <dd class="yc-menu-item">
                                <a href="javascript:;" class="yc-link-menu">我发布的</a>
                            </dd>
                            <dd>
                                <a href="javascript:;" class="yc-link-menu">我申请的</a>
                            </dd>
                        </div>
                    </div>
                </dl>
                <dl class="yc-menu-list">
                    <dt class="yc-menu-headline" data-toggle="collapse">
                        <i class="icon-menu"></i>
                        <span class="yc-menu-title">我的预约</span>
                        <i class="icon-arrow"></i>
                    </dt>
               
                    <div class="yc-submenu collapse"  data-role="content">
                        <div class="panel-body">
                            <dd class="yc-menu-item">
                                <a href="javascript:;" class="yc-link-menu">我的预约</a>
                            </dd>
                            <dd>
                                <a href="javascript:;" class="yc-link-menu">申请预约</a>
                            </dd>
                        </div>
                    </div>
                            
                </dl>
                <dl class="yc-menu-list">
                    <dt class="yc-menu-headline" data-toggle="collapse">
                        <i class="icon-menu"></i>
                        <span class="yc-menu-title">个人信息</span>
                        <i class="icon-arrow"></i>
                    </dt>
                    
                    <div class="yc-submenu collapse"  data-role="content">
                        <div class="panel-body">
                            <dd class="yc-menu-item">
                                <a href="javascript:;" class="yc-link-menu">个人资料</a>
                            </dd>
                            <dd>
                                <a href="javascript:;" class="yc-link-menu">安全信息</a>
                            </dd>
                        </div>
                    </div>
                            
                </dl>
                <dl class="yc-menu-list">
                    <dt class="yc-menu-headline" data-toggle="collapse">
                        <i class="icon-menu"></i>
                        <span class="yc-menu-title">我的收获地址</span>
                        <i class="icon-arrow"></i>
                    </dt>
                  
                    <div class="yc-submenu collapse"  data-role="content">
                        <div class="panel-body">
                            <dd class="yc-menu-item">
                                <a href="javascript:;" class="yc-link-menu">管理收获地址</a>
                            </dd>
                            <dd>
                                <a href="javascript:;" class="yc-link-menu">物流信息</a>
                            </dd>
                        </div>
                    </div>
                            
                </dl>
                <dl class="yc-menu-list">
                    <dt class="yc-menu-headline" data-toggle="collapse">
                        <i class="icon-menu"></i>
                        <span class="yc-menu-title">财务中心</span>
                        <i class="icon-arrow"></i>
                    </dt>
                    
                    <div class="yc-submenu collapse"  data-role="content">
                        <div class="panel-body">
                            <dd class="yc-menu-item">
                                <a href="javascript:;" class="yc-link-menu">充值</a>
                            </dd>
                            <dd>
                                <a href="javascript:;" class="yc-link-menu">账簿</a>
                            </dd>
                        </div>
                    </div>
                            
                </dl>
                <dl class="yc-menu-list">
                    <dt class="yc-menu-headline" data-toggle="collapse">
                        <i class="icon-menu"></i>
                        <span class="yc-menu-title">消息中心</span>
                        <i class="icon-arrow"></i>
                    </dt>
                    
                    <div class="yc-submenu collapse"  data-role="content">
                        <div class="panel-body">
                            <dd class="yc-menu-item">
                                <a href="javascript:;" class="yc-link-menu">系统通知</a>
                            </dd>
                            <dd>
                                <a href="javascript:;" class="yc-link-menu">意见反馈</a>
                            </dd>
                        </div>
                    </div>
                            
                </dl>

            </div>

        </div>

        <!-- 主体内容 -->
        <div class="yc-content my-garden-content">
            <div class="yc-module">
                <div class="yc-module-headline">
                    <span class="yc-module-title">管理收货地址</span>
                </div>
            </div>

            <!-- 菜地列表 -->
            <div class="my-garden-list">
                <div class="my-person-item yc-module clearfix">
                    <a href="javascript:;" class="add-address-btn " data-toggle="collapse">添加收货地址</a>
                    <div class="yc-form-container address-form" data-role="content" style="display: none;">
                        <p class="address-hint"><span class="corRed">新增收货地址</span>电话号码、手机号码选填一项其余均为必填项</p>
                        <form id="exchangeForm">
                            <div class="form-group">
                                <label class="form-label">所在地区<span class="corRed">*</span></label>
                                 <label class="select-label">省</label>
                                <select name="province" id="province">
                                </select>
                                <label class="select-label">城市</label>
                                <select name="city" id="city">
                                </select>
                                <label class="select-label">县区</label>
                                <select name="town" id="town">
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">详细地址<span class="corRed">*</span></label>
                                <textarea class="form-textarea" name="detailAddress" placeholder="不需要重复写省市区，必须大于5个字符，小于120字符" required></textarea>
                            </div>
                            <div class="form-group">
                                <label class="form-label">邮政编码<span class="corRed">*</span></label>
                                <input type="text" class="form-input" name="postcode" required/>
                            </div>
                            <div class="form-group">
                                <label class="form-label">收货人姓名<span class="corRed">*</span></label>
                                <input type="text" class="form-input" name="name" required/>
                            </div>
                            <div class="form-group">
                                <label class="form-label">手机号码<span class="corRed">*</span></label>
                                <input type="text" class="form-input" name="tel" placeholder="电话号码、手机号码必须填一项" required/>
                            </div>
                            <div class="form-group">
                                <label class="form-label">电话号码</label>
                                <input type="text" class="form-input" placeholder="区号" />-
                                <input type="text" class="form-input" placeholder="电话号码" />-
                                <input type="text" class="form-input" placeholder="分机" />
                            </div>
                             <div class="form-group">
                                <label class="form-label"></label>
                                <input type="checkbox" id="setAddress" /><label for="setAddress">设置为默认收货地址</label>
                            </div>
                            <div class="form-actions">
                                <button class="yc-btn yc-btn-success orange-btn" type="submit" id="exchangeBtn">保存</button>
                            </div>
                            <strong class="address-count">已保持了6条地址，还能保持14条地址</strong>
                        </form>
                    </div>
                    <div class="yc-table-container">
                        <table class="table table-striped">
                          <thead>
                            <tr>
                              <th>收货人</th>
                              <th>所在地区</th>
                              <th>详细地址</th>
                              <th>邮编</th>
                              <th>电话/手机</th>
                              <th>操作</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                                <td>林四娘</td>
                                <td>广东省 山中市</td>
                                <td>广东省中山市XXXXXXX</td>
                                <td>410004</td>
                                <td>136666666666</td>
                                <td><a href="javascript:;" class="edit-btn" data-tel="13666666666" data-name="马德富" data-province="湖北省" data-city="武汉" data-detailaddress="新佳乐五福小区红桃超市对面1-12号">修改</a>|<a href="javascript:;">删除</a></td>
                            </tr>
                            <tr>
                                <td>林四娘</td>
                                <td>广东省 山中市</td>
                                <td>广东省中山市XXXXXXX</td>
                                <td>410004</td>
                                <td>136666666666</td>
                                <td><a href="javascript:;" class="edit-btn" data-tel="13666666666" data-name="马德富" data-province="湖北省" data-city="武汉" data-detailaddress="新佳乐五福小区红桃超市对面1-12号">修改</a>|<a href="javascript:;">删除</a> <span class="defAddress">默认地址</span></td>
                            </tr>
                          </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 底部版权 -->
    <div class="yc-footer">
        <div class="yc-wrapper">
            <div class="yc-footer-info">
                <dl>
                    <dt>
                        <a href="javascript:;" target="_blank">关于</a>
                    </dt>
                    <dd>
                        <a href="javascript:;" target="_blank">公司介绍</a>
                    </dd>
                    <dd>
                        <a href="javascript:;" target="_blank">商务合作</a>
                    </dd>
                </dl>
                <dl>
                    <dt>
                        <a href="javascript:;" target="_blank">帮助中心</a>
                    </dt>
                    <dd>
                        <a href="javascript:;" target="_blank">常见问题</a>
                    </dd>
                    <dd>
                        <a href="javascript:;" target="_blank">客服中心</a>
                    </dd>
                </dl>
                <dl class="last">
                    <dt>
                        <a href="javascript:;" target="_blank">隐私权政策与使用条款</a>
                    </dt>
                    <dd>
                        <a href="javascript:;" target="_blank">隐私权政策</a>
                    </dd>
                    <dd>
                        <a href="javascript:;" target="_blank">使用条款</a>
                    </dd>
                </dl>
            </div>

            <div class="yc-qrcode yc-qrcode-weibo">
                <p class="yc-qrcode-title">官方微博</p>
                <img src="./assets/images/qrcode-weibo.jpg" alt="">
            </div>
            <div class="yc-qrcode yc-qrcode-weixin">
                <p class="yc-qrcode-title">官方微信</p>
                <img src="./assets/images/qrcode-weixin.jpg" alt="">
            </div>
        </div>

    </div>
    <script type="text/template" id="address-tmpl">
        <div class="yc-form-container">
            <form>
                <div class="form-group">
                    <label class="form-label">收货人姓名<span class="corRed">*</span></label>
                    <input type="text" class="person-name form-input"/>
                </div>
                <div class="form-group">
                    <label class="form-label">所在地区<span class="corRed">*</span></label>
                    <label class="select-label">省份</label>
                    <select name="province" id="dgprovince">
                    </select>
                    <label class="select-label">城市</label>
                    <select name="city" id="dgcity">
                    </select>
                    <label class="select-label">县区</label>
                    <select name="town" id="dgtown">
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">详细地址<span class="corRed">*</span></label>
                    <input type="text" class="form-input detailAddress" />
                </div>
                <div class="form-group">
                    <label class="form-label">邮政编码</label>
                    <input type="text" class="form-input postcode" />
                </div>
                <div class="form-group">
                    <label class="form-label">手机号码</label>
                    <input type="text" class="form-input tel" />
                </div>
                <div class="form-actions">
                    <button class="yc-btn yc-btn-success yc-btn-add" type="button">保存</button>
                    <button class="yc-btn" type="button" data-role="close">返回</button>
                </div>
            </form>
        </div>
    </script>
    <script>
        $(function() {
            $("#exchangeForm").validate();
            jQuery.extend(jQuery.validator.messages, {
              required: "必选字段",
              email: "请输入正确格式的电子邮件"
            });
            new Dsy({
                // 绑定三个select的id
                s:['province','city','town'],
                // 是否是大陆
                isMainLand:true,
                // 默认浙江省
                p_key:'浙江省'
            });
            // 编辑按钮
            $(document).on('click','.edit-btn',function(e){
                e.preventDefault();
                var target = $(e.currentTarget);
                console.log(target.data('name'))
               showAddressDialog({
                    "name":target.data('name'),
                    "province" : target.data("province"),
                    "city" :target.data("city"),
                    "detailAddress" : target.data("detailaddress"),
                    "telephone" : target.data('tel')
                });
            });
            // 显示弹窗
            function showAddressDialog(defInfor){
                addDialog = new QAQ.Dialog({
                    id          : 'address-dialog',//选填dialog的id
                    title       : '管理收货地址',
                    contentSelector     : '#address-tmpl',
                 
                    width       : 600,//选填
                    modal       : false, //是否显示遮罩
                    drag        : false,//是否可拖拽
                    winResize   : false,//浏览器缩放时是否重新定位
                    success :  function(){
                        if(defInfor){
                            setInfor($(this.$element),defInfor)
                        }else{
                            new Dsy({
                                // 绑定三个select的id
                                s:['dgprovince','dgcity','dgtown'],
                                // 是否是大陆
                                isMainLand:true,
                                // 默认浙江省
                                p_key:'浙江省'
                            });
                        }
                    }
                }); 
            }
            // 设置默认信息
            function setInfor(node,infor){
                console.log(node)
                node.find('.person-name').val(infor.name);
                node.find('.detailAddress').val(infor.detailAddress);
                node.find('.tel').val(infor.telephone);
                new Dsy({
                    // 绑定三个select的id
                    s:['dgprovince','dgcity','dgtown'],
                    // 是否是大陆
                    isMainLand:true,
                    // 默认浙江省
                    p_key: infor.province
                });
            }
        });
    </script>
  </body>
</html>